<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>怪談遊戲</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">
    <div id="stage" class="stage">
      <img id="bg" class="layer bg" alt="背景" />

      <div class="seat c1 mirror"><img id="c1" class="char" alt="角色slot1"/><div class="bubble" id="b1"><span>-</span></div></div>
      <div class="seat c2 mirror"><img id="c2" class="char" alt="角色slot2"/><div class="bubble" id="b2"><span>-</span></div></div>
      <div class="seat c3"><img id="c3" class="char" alt="角色slot3"/><div class="bubble" id="b3"><span>-</span></div></div>
      <div class="seat c4"><img id="c4" class="char" alt="角色slot4"/><div class="bubble" id="b4"><span>-</span></div></div>

      <div class="hud">
        <div class="hud-title">
          <span class="hud-label" id="hudLabel">怪談度</span>
          <span class="hud-count" id="totalCount">0</span>
        </div>
      </div>

      <div class="round" id="roundBox">回合 <span id="roundNum">1</span></div>

      <div class="textbox">
        <div class="nameplate"><span id="speakerName">—</span></div>
        <div class="text" id="dialogText">按「開始 / 選角」選擇角色。</div>
      </div>
    </div>

    <div class="controls">
      <div class="row">
        <button class="btn" id="btnStart">開始 / 選角</button>
        <button class="btn" id="btnNext" disabled>下一步</button>
        <button class="btn" id="btnLog">Log</button>
      </div>

      <div class="row">
        <button class="btn action" id="btnTalk" disabled>講怪談（1d5）</button>
        <button class="btn action" id="btnSkill1" disabled>技能1</button>
        <button class="btn action" id="btnSkill2" disabled>技能2</button>
        <button class="btn danger hidden" id="btnRestart">重新開始</button>
      </div>

      <div class="row small">
        <span id="hint">v.1.02 請AI幫我搓的遊戲：每回合只有一次行動：講怪談或技能。怪談度到 100（含）的人輸。</span>
      </div>
    </div>
  </div>

  <div class="modal hidden" id="modal">
    <div class="modal-card">
      <div class="modal-title">選擇你的角色</div>
      <div class="modal-grid" id="modalGrid"></div>
      <div class="modal-actions">
        <button class="btn" id="btnCloseModal">取消</button>
      </div>
      <div class="modal-note">選好後，系統會隨機抽另外三名角色並隨機分配座位（不重複）。</div>
    </div>
  </div>

  <div class="modal hidden" id="logModal">
    <div class="modal-card">
      <div class="modal-title">文字紀錄（最近 12 條）</div>
      <div class="logbox" id="logBox"></div>
      <div class="modal-actions">
        <button class="btn" id="btnCloseLog">關閉</button>
      </div>
    </div>
  </div>

  <script src="game.js"></script>
</body>
</html>
